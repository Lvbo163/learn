# 引用类型和值类型

**吕波**

现在很多地方都看到说go中有三种引用类型 `map, channel, slice`。这三种引用类型要特殊处理。

但是我认为这个地方一点都不特殊。首先，我不认同存在三个引用类型这种说法。以 `slice`为例（其余两个还没有仔细研究其内部实现）. `slice` 本身可以可以简单的理解为一个 `struct` 如下:

```go 
    type slice struct{
        cap int
        len int
        parr *[n]interface{} // 为一个数组的指针
    }
```

在进行赋值的时候如下：
```go
    s1 := slice{
        cap: 5,
        len: 0,
        parr: &[5]interface{}
    }

    s2 := s1
    s2.parr[2] = 5
```

在将 `s1` 赋值给 `s2` 的时候，其实和普通的赋值操作一样，都是把 `s1` 中所有属性的值复制了一遍，传给了 `s2` 而已。只是 `parr` 是一个指针，`s1` 和 `s2` 指针相同，指向了同一个数组，所以修改 `s2` 的时候， `s1` 中的实际值也修改了。就单独的赋值操作来说，和普通的操作没有任何区别。
