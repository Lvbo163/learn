# 组件优化过程:

本次共修改进行了以下方面的优化： 

## 将节点的展开图标从svg修改为icon字体图标
  
svg渲染慢，替换为icon增加渲染速度
  
## 去除代码中的dom操作

一次dom操作耗时大约7ms，当数据达到1000级别以上时，会明显拖慢速度)，将以前的dom操作修改为使用css的方式来替代； 
  
## 将节点模型中的绑定由方法绑定修改为变量绑定

方法绑定时每次检测都会执行方法，变量检测时只要变量不变就不会有时间消耗 

## 修改组件的变化检测方式

在树组件上面将默认的检测方式修改为OnPush，这样在传入参数没有变化的时候能够避免对大量节点的变化检测。但是修改为OnPush后，如果从外部修改了传入参数的内容，比如修改节点的label或添加一个子节点等，在组件内部是无法感知的。因此组件提供了一个用于通知变化检测的方法dataChanged(), 外部需要调用该方法告知组件数据发生了变化，需要进行变化检测。


## 终极改造

修改原有的渲染数据对应的所有节点的方式。修改为只渲染可视区域中数据及其附近的数据的方式。

如： 传入的数据中树包含1w个节点。如果要全都渲染，会耗用很长时间。修改后的方案为，通过计算获取到当前可视区域中可见的节点的需要。比如通过滚动条滚动后，当前可视区域可见的节点为 第1000-1050个节点。那么在界面渲染的时候就只渲染1000-1050节点。 为了保证滚动条滚动的流畅程度，还需要在1000节点前和1050节点后也渲染一部分节点。这样滚动的时候就不需要每次滚动都重新加载数据。
